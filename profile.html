<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Profile</title>
    <style>
        /* Стили формы профиля */
        #profile-form {
            max-width: 500px;
            margin: 0 auto;
            padding: 30px;
            background-color: #f2f2f2;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-family: Arial, sans-serif;
        }

        #profile-form label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        #profile-form p {
            margin: 0;
            padding: 5px 0;
        }

        #profile-avatar {
            max-width: 200px;
            max-height: 200px;
            margin-bottom: 10px;
        }
		.dark-theme {
            background-color: #333;
            color: #fff;
        }
		.dark-theme font {
            background-color: #333;
            color: #fff;
        }
		.dark-theme a {
            background-color: #333;
            color: #fff;
        }
		.dark-theme table {
            background-color: #333;
            color: #fff;
        }
		.dark-theme div {
            background-color: #333;
            color: #fff;
			border-color: #333;
        }
		.dark-theme p {
            background-color: #333;
            color: #fff;
        }
		.dark-theme label {
            background-color: #333;
            color: #fff;
        }
		.dark-theme center {
            background-color: #333;
            color: #fff;
        }
    </style>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var urlParams = new URLSearchParams(window.location.search);
            var profileId = urlParams.get('id');

            if (profileId) {
                fetch('https://6455f3055f9a4f2361374d32.mockapi.io/prefiles/' + profileId)
                    .then(response => response.json())
                    .then(data => {
                        fillProfileForm(data);
                    })
                    .catch(error => {
                        console.error('Error receiving profile data:', error);
                    });
            }
        });

        function fillProfileForm(profileData) {
            var avatarImg = document.getElementById('profile-avatar');
            var nameText = document.getElementById('profile-name');
            var statusText = document.getElementById('profile-status');
            var emailText = document.getElementById('profile-email');
            var idText = document.getElementById('profile-id');

            avatarImg.src = profileData.avatar || '';
            nameText.textContent = profileData.name || '';
            statusText.textContent = profileData.status || '';
            emailText.textContent = profileData.email || '';
            idText.textContent = profileData.id || '';
        }
    </script>
</head>
<body>
    <div id="profile-form">
        <!--<label for="profile-avatar">Avatar:</label>-->
        <!-- <img id="profile-avatar" src="" alt="Аватар пользователя" height="64" style="border-radius: 14px;"> -->

        <!--<label for="profile-name">User name:</label>-->
        <!-- <font id="profile-name" align="center"></font> -->
		<table border="0" style="border-collapse: collapse; width: 100%; height: 52px;">
		<tbody>
		<tr style="height: 52px;">
		<td style="width: 50%; height: 52px;"><center><img src="#" width="64" height="64" alt="" id="profile-avatar" style="border-radius: 14px;" onerror="this.src='nophoto.png'"></center></td>
		<td style="width: 50%; height: 52px;">
		<font id="profile-name" align="center" face="Arial" size="5"></font>
		</td>
		</tr>
		</tbody>
		</table>
		<center>
        <label for="profile-status">Status:</label>
        <p id="profile-status"></p>

        <label for="profile-email">Email:</label>
        <p id="profile-email"></p>

        <label for="profile-id">Id:</label>
        <p id="profile-id"></p>
		</center>
    </div>
	<script>
        // Загружаем текущую тему из Local Storage при загрузке страницы
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'dark') {
            document.body.classList.add('dark-theme');
        }
    </script>
</body>
</html>
